<!DOCTYPE html>
<html lang="zh" style="height: 100%;">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title></title>
	
	<link rel="stylesheet" href="../static/layui/css/layui.css">
	<link rel="stylesheet" href="../static/css/base.css">
	<script src="../static/layui/layui.all.js"></script>
	<script src="../static/layui/lay/modules/layer.js"></script>
	
	

</head>
<body style="height: 100%;">
	<!-- 导航栏 -->
	<ul class="layui-nav" style="text-align: center;background-color: #26a69a;">
		<li class="layui-nav-item" style="font-size: x-large; color: #F5FDC6;font-family: mFont;">Take It Easy</li>
	<!-- 下面应该是弹窗 -->
		<li class="layui-nav-item" style="float: right;"><a href="">关于我们</a></li>
		<li class="layui-nav-item" style="float: right;"><a href="">用户须知</a></li>
		<li class="layui-nav-item" style="float: right;"><a href="">最新公告</a></li>
	</ul>
	 
	

</body>
	<script>
		// px转换小数字
		function toNum(percent){
				var num=Number(percent.replace("px", ''));;
		        return num;
		    }
	//注意：导航 依赖 element 模块，否则无法进行功能性操作
	layui.use("element", function(){
		var element = layui.element;
		element.init();
	});
	layui.use(["jquery"], function(){
		var $ = jQuery = layui.$;
		var layer = layui.layer;
	  
	window.onload = function(){
		// 指定top left

		//单个使用
		var openChatroom = layer.open({
			title: ["T I E", "font-size:18px;"],
			anim: 5,
			skin: "demo-class",
			type: 2,					// 声明弹出方式为iframe
			content: ["chatroom.html", "no"],	// 弹出的html文件
			area: ["40%", "80%"],		// 弹出的宽高
			closeBtn: 0,				// 没有关闭按钮
			maxmin: true,				// 支持最大最小化
			success: function(layero){
				layero.find(".layui-layer-max").hide();
			},
			full: function(layero) {
					layer.restore(openChatroom);
				},
			min: function(layero){
				layero.find(".layui-layer-max").show();
				// 这个只能 上和左才生效
				// var aa = document.getElementsByClassName("layui-layer-title")[0].style;
				// console.log(aa);

				var boxWidth = 180;
				var boxHeight = 40;
				var seeWidth = document.body.clientWidth;
				var seeHeight = document.body.clientHeight;
				console.log(seeWidth);
				console.log(boxWidth);
				$(".layui-layer").css({"top": seeHeight - boxHeight});
				$(".layui-layer").css({"left": seeWidth - boxWidth});
				console.log()
				
			},
			restore: function(layero){
				// 隐藏最大化按钮
				layero.find(".layui-layer-max").hide();
				// 重新计算宽高保证居中
				var height = document.querySelector(".layui-layer").style.height;
				var width = document.querySelector(".layui-layer").style.width;
				var seeHeight = document.body.clientHeight;
				var seeWidth = document.body.clientWidth;

				$(".layui-layer").css({"top": (seeHeight - toNum(height)) * 0.5});
				$(".layui-layer").css({"left": (seeWidth - toNum(width)) * 0.5});
			},
		});
		// layer.min(openChatroom);

		
	};
	
	// layer.full(openChatroom);
	
	//全局使用。即所有弹出层都默认采用，但是单个配置skin的优先级更高
	// layer.config({
	// 	skin: "demo-class",
	// });
	});
	</script>
</html>
<!-- 断连有问题，断连逻辑应该重写，如果本地主动断连，就不弹窗 -->